<!-- Site wrapper -->
<div class="wrapper"  id="page-top">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
          <!-- Left navbar links -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
              <a routerLink="/menu" class="nav-link">Home</a> 
            </li>
          </ul>

          <!-- Notifications Dropdown Menu -->
          <ul class="navbar-nav ml-auto">
              <li class="nav-item dropdown" style="margin-left: -43px;">
                      <span  data-toggle="dropdown" class="text-muted"><i class="fas fa-fw fa-cog"></i></span>
                <div class="dropdown-menu" role="menu" style="margin-left: -120px;">
                    <span href="#" class="dropdown-item"><i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400 text-muted"></i>Profile</span>
                    <div class="dropdown-divider"></div>
                    <span href="#" data-toggle="modal" data-target="#logout" class="dropdown-item"><i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400 text-muted"></i>Déconnexion</span>
                </div>
              </li>
            </ul>
            <!--End  Notifications Dropdown Menu -->
        </nav>
        <!-- /.navbar -->
      
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
          <!-- Brand Logo -->
          <a href="#" class="brand-link">
            <img src="../../../node_modules/admin-LTE/dist/img/AdminLTELogo.png"
                 alt=""
                 class="brand-image img-circle elevation-3"
                 style="opacity: .8">
            <span class="brand-text font-weight-light" style="margin-left: 56px;">Clinix-SIH</span>
          </a>
      
          <!-- Sidebar -->
          <div class="sidebar">
            <!-- Sidebar user (optional) -->
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
              <div class="image">
                <img src="{{ clinixService.apiURL+'/clinix-SIH_api/download/'+photo }}" style="width: 50px;height: 50px;" class="img-circle elevation-2" alt="aaa">
                <i class="fa fa-user-o" aria-hidden="true"></i>
              </div>
              <div class="info">
                <a href="#" data-toggle="modal" data-target="#logout" class="d-block">{{ fullname }}</a>
              </div>
            </div>
      
            <!-- Sidebar Menu -->
            <nav class="mt-2">
              <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <!-- Add icons to the links using the .nav-icon class
                     with font-awesome or any other icon font library -->
                <li class="nav-item has-treeview">
                  <a href="/#" class="nav-link">
                    <i class="fa fa-user-plus"></i>
                    <p>
                       Gestion utilisateurs
                       <i class="right fas fa-angle-left"></i>
                    </p>
                  </a>
                  <ul class="nav nav-treeview">
                    <li class="nav-item">
                      <a routerLink="/roles" class="nav-link">
                        <i class="fa fa-users"></i>
                        <p>Listes roles</p>
                      </a>
                    </li>
                    <li class="nav-item">
                            <a routerLink="/users" class="nav-link">
                              <i class="fa fa-users"></i>
                              <p>Listes utilisateurs</p>
                            </a>
                    </li>
                  </ul>
                </li>
                
              </ul>
            </nav>
      
            <nav class="mt-2">
              <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                     <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="far fa-file-alt"></i>
                          <p> 
                            Service acceuil
                            <i class="right fas fa-angle-left"></i>
                          </p>
                        </a>
                        <ul class="nav nav-treeview">
                          <li class="nav-item">
                            <a routerLink="/patients" class="nav-link">
                              <i class="far fa-file-alt"></i>
                              <p>fiche patients</p>
                            </a>
                          </li>
                          <li class="nav-item">
                            <a routerLink="/acceuil" class="nav-link">
                              <i class="far fa-file-alt"></i>
                              <p>liste d'acceuil</p>
                            </a>
                        </li>
                        </ul>
                      </li>
                      
                      <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="fas fa-tag"></i>
                          <p>
                            Service consultation
                            <i class="right fas fa-angle-left"></i>
                          </p>
                        </a>
                        <ul class="nav nav-treeview">
                          <li class="nav-item">
                            <a routerLink="/consultation" class="nav-link">
                              <i class="fas fa-tag"></i>
                              <p>consultation</p>
                            </a>
                          </li>
                        </ul>
                      </li>
              </ul>
            </nav>
          </div>
          <!-- /.sidebar -->
        </aside>
        
        <!-- Contains page content -->
        <div class="content-wrapper">
      
          <!-- Main content -->
          <section class="content">
            
            <!--modal logout -->
            <div class="modal fade" id="logout" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Voulez-vous vous déconnecter?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">×</span>
                    </button>
                  </div>
                  <div class="modal-body">Cliquez sur Déconnexion si voulez mettre fin à votre session</div>
                  <div class="modal-footer">
                    <button class="btn btn-primary" type="button" data-dismiss="modal">non</button>
                    <a routerLink="/login"><button  class="btn btn-danger" type="button" data-dismiss="modal">Déconnexion</button></a>
                  </div>
                </div>
              </div>
             </div>
             <!-- end modal logout -->

             <!-- content-header -->
            <section class="content-header">
              <div class="container-fluid">
                <div class="row mb-2">
                  <div class="col-sm-6">
                    <button type="button" class="btn btn-primary" href="#addRole" data-toggle="modal"><i class="fas fa-plus"></i>
                      ajouter role</button>

                    <!-- modal  add role-->
                    <div class="modal fade" id="addRole" >
                        <div class="modal-dialog ">
                            <form #addFormRole="ngForm" (ngSubmit)="onSaveRole(addFormRole)">
                                    <div class="modal-content">
                                            <div class="modal-header">
                                                    <span class="text-muted"><i class="fas fa-arrow-circle-right"></i>  Rôle</span>
                                                <button type="button" class="close" data-dismiss="modal" id="add-role">x</button>
                                            </div>
                                            <div class="modal-body">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h3 class="card-title text-muted">Informations générales</h3>
                                                    
                                                            <div class="card-tools">
                                                                <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                                                                </button>
                                                                <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <!-- contenu card -->
                                                        <div class="card-body p-0 text-muted" style="margin: 10px;">
                                                            <div class="row">
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label>Commentaire *</label>
                                                                        <input type="text" ngModel name="commentaire" class="form-control" required placeholder=" ---" >
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                          <label>Type de rôle *</label>
                                                                          <select ngModel name="roleName" class="form-control">
                                                                            <option> --- </option>
                                                                            <option>Medecin généraliste</option>
                                                                            <option>Infirmier</option>
                                                                            <option>Caissier</option>
                                                                            <option>Administrateur</option>
                                                                            <option>Pharmacien</option>
                                                                            <option>Laboratin</option>
                                                                            <option>Stagiaire</option>
                                                                            <option>Sage femme</option>
                                                                            <option>Psychologue</option>
                                                                            <option>Kinesithérapeute</option>
                                                                            <option>Psychanalyste</option>
                                                                            <option>Ophtalmologue</option>
                                                                            <option>ORLogue</option>
                                                                            <option>Pédiatre</option>
                                                                            <option>Urgentiste</option>
                                                                            <option>Cardiologue</option>
                                                                          </select>
                                                                        </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- end contenu card -->
                                                        <div class="card-footer text-center">
                                                            <span class="text-danger">*tous les champs marqués sont obligatoires</span>
                                                        </div>
                                                    </div>
                                            </div>
                                            <div class="modal-footer justify-content-between">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                                                    <button type="submit" [disabled]="addFormRole.invalid"  class="btn btn-primary">Ajouter</button>
                                            </div>
                                        </div>
                            </form>
                        </div>
                    </div>
                    <!-- end modal add role -->

                  </div>
                  <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                      <li class="breadcrumb-item"><a routerLink="/menu">Home</a></li>
                      <li class="breadcrumb-item active">gestion roles</li>
                    </ol>
                  </div>
                </div>

                 <!-- tableau role -->
                 <div class="card text-muted main-container">
                    <div class="card-header border-transparent">
                      <h3 class="card-title">Rôle</h3>
                  
                      <div class="card-tools">
                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                          <i class="fas fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                          <i class="fas fa-times"></i>
                        </button>
                      </div>
                    </div>
                    <div class="card-body p-0">
                      <div class="table-responsive">
                        <table class="table table-striped m-0">
                          <thead>
                            <tr>
                              <th>rôle</th>
                              <th>commentaire</th>
                              <th></th>
                              <th></th>
                              <th></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let role of roles">
                              <td class="text-primary">{{ role?.roleName }}</td>
                              <td>{{ role?.commentaire }}</td>
                              <td><span (click)="onOpenModalRole(role, 'add')" href="#addUser" data-toggle="modal"><i class="nav-icon far fa-plus-square" title="Ajouter un utilisateur"></i></span></td>
                              <td><span (click)="onOpenModalRole(role, 'delete')"><i class="far fa-trash-alt"   title="Supprimer un rôle"></i></span></td>
                              <td><span (click)="onOpenModalRole(role, 'update')"><i class="fas fa-edit"  title="Modifier un rôle"></i></span></td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                 </div>
                 <!-- end tableau role -->

                 <!-- modal nouveau user -->
                 <div class="modal fade" id="addUser" >
                  <div class="modal-dialog ">
                      <form #addFormUser = "ngForm" (ngSubmit) = "onAddUser(addFormUser)" enctype="multipart/form-data">
                              <div class="modal-content">
                                  <div class="modal-header">
                                      <span class="text-muted"><i class="fas fa-arrow-circle-right"></i> Nouvel utilisateur</span>
                                      <button type="button" class="close" data-dismiss="modal" id="add-user">x</button>
                                  </div>
                                  <div class="modal-body">
                                      <div class="card">
                                          <div class="card-header">
                                              <h3 class="card-title text-muted">Informations générales</h3>
                              
                                              <div class="card-tools">
                                                  <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                                                  </button>
                                                  <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i>
                                                  </button>
                                              </div>
                                          </div>
                                          <div class="card-body p-0 text-muted" style="margin: 10px;">
                                              <div class="row">
                                                  <div class="col-sm-6">
                                                      <div class="form-group">
                                                          <label>Nom Complet *</label>
                                                          <input type="text" ngModel name="fullName" class="form-control" placeholder=" ---" required>
                                                      </div>
                                                  </div>
                                                  <div class="col-sm-6">
                                                      <div class="form-group">
                                                          <label>Email *</label>
                                                          <input type="email" ngModel name="email" class="form-control" placeholder=" ---" required>
                                                      </div>
                                                  </div>
                                                  <div class="col-sm-6">
                                                      <div class="form-group">
                                                          <label>Téléphone *</label>
                                                          <input type="text" ngModel name="phone" class="form-control" placeholder=" ---" required>
                                                      </div>
                                                  </div>
                                                  <div class="col-sm-6">
                                                      <div class="form-group">
                                                          <label>Username *</label>
                                                          <input type="text" ngModel name="username" class="form-control" placeholder=" ---" required>
                                                      </div>
                                                  </div>
                                                  <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Mot de passe *</label>
                                                        <input type="password" ngModel name="password" class="form-control" placeholder=" ---" required>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                  <div class="form-group">
                                                    <label for="exampleInputFile">Photo</label>
                                                    <div class="input-group">
                                                      <div class="custom-file">
                                                        <input type="file" class="custom-file-input" (change)="onAddPicture($event)" name="urlPicture"
                                                          id="exampleInputFile">
                                                        <label class="custom-file-label" for="exampleInputFile">---</label>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                          </div>
                                          <div class="card-footer text-center">
                                              <span class="text-danger">*tous les champs marqués sont obligatoires</span>
                                          </div>
                                      </div>
                                  </div>
                                  <div class="modal-footer justify-content-between">
                                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                      <button type="submit"  class="btn btn-primary">Ajouter</button>
                                  </div>
                              </div>
                      </form>
                  </div>
                 </div>
                 <!-- end modal nouveau user -->

                 <!-- modal  update role-->
                 <div class="modal fade" id="updateRole" >
                    <div class="modal-dialog ">
                        <form #editFormRole="ngForm">
                                <div class="modal-content">
                                        <div class="modal-header">
                                                <span class="text-muted"><i class="fas fa-arrow-circle-right"></i>  Rôle</span>
                                            <button type="button" class="close" data-dismiss="modal" id="add-role">x</button>
                                        </div>
                                        <div class="modal-body">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h3 class="card-title text-muted">Informations générales</h3>
                                                
                                                        <div class="card-tools">
                                                            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                                                            </button>
                                                            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <!-- contenu card -->
                                                    <div class="card-body p-0 text-muted" style="margin: 10px;">
                                                        <div class="row">
                                                            <input type="hidden" ngModel="{{ role?.id }}" name="id" class="form-control">

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Commentaire *</label>
                                                                    <input type="text" ngModel="{{ role?.commentaire }}" name="commentaire" class="form-control" required placeholder=" ---" >
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                      <label>Type de rôle *</label>
                                                                      <select ngModel="{{ role?.roleName }}" name="roleName" class="form-control">
                                                                        <option> --- </option>
                                                                        <option>Medecin généraliste</option>
                                                                        <option>Infirmier</option>
                                                                        <option>Caissier</option>
                                                                        <option>Administrateur</option>
                                                                        <option>Pharmacien</option>
                                                                        <option>Laboratin</option>
                                                                        <option>Stagiaire</option>
                                                                        <option>Sage femme</option>
                                                                        <option>Psychologue</option>
                                                                        <option>Kinesithérapeute</option>
                                                                        <option>Psychanalyste</option>
                                                                        <option>Ophtalmologue</option>
                                                                        <option>ORLogue</option>
                                                                        <option>Pédiatre</option>
                                                                        <option>Urgentiste</option>
                                                                        <option>Cardiologue</option>
                                                                      </select>
                                                                    </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- end contenu card -->
                                                    <div class="card-footer text-center">
                                                        <span class="text-danger">*tous les champs marqués sont obligatoires</span>
                                                    </div>
                                                </div>
                                        </div>
                                        <div class="modal-footer justify-content-between">
                                                <button type="button" id="update-role" class="btn btn-default" data-dismiss="modal">Fermer</button>
                                                <button type="button" (click)="onUpdateRole(editFormRole.value)"  class="btn btn-primary">Ajouter</button>
                                        </div>
                                    </div>
                        </form>
                    </div>
                 </div>
                 <!-- end modal update role -->

                  <!--modal delete role -->
                  <div class="modal fade" id="deleteRole" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel" class="text-muted"><i class="fas fa-arrow-circle-right"></i> info</h5>
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">×</span>
                            </button>
                          </div>
                          <div class="modal-body text-muted">Voulez-vous supprimer ce rôle?</div>
                          <div class="modal-footer">
                            <button class="btn btn-secondary" type="button" data-dismiss="modal">non</button>
                            <button (click)="ondeleteRole(roleId)" class="btn btn-danger" type="button" data-dismiss="modal">supprimer</button>
                          </div>
                        </div>
                      </div>
                  </div>
              
                  <!-- end modal delete role -->

              </div>
            </section>
            <!-- end content-header -->


            <!-- main-container -->
            <div class="container-fluid" id="main-container">
              <div class="row">
                <div class="col-12">
                   
                </div>
              </div>
            </div>
            <!-- end main-container -->
          </section>
          <!-- end Main content -->
        </div>
        <!-- end Contains page content -->

         
        <footer class="main-footer">
          <div class="float-right d-none d-sm-block">
            <b>Version</b> 1.0.0
          </div>
          <strong>Copyright &copy; 2021-2022 <a href="https://www.skynet-burundi.bi">skynet-burundi.bi</a>.</strong> All rights
          reserved.
        </footer>
      
        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
          <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->
      </div>
      <script>
        $(function () {
           $('[data-toggle="tooltip"]').tooltip();
         })
     </script>